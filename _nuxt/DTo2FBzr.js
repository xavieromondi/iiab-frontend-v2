import E from"./BlpNUnXm.js";import $ from"./DKdCY1ga.js";import{J as x,a as D,K as N,L,d as _,x as a,y as n,z as e,B as r,M as S,N as y,O as v,P as h,Q as k,A as f,_ as C,R as p,D as V}from"#entry";import A from"./CvTI_1eb.js";import T from"./BO6s9rb6.js";import q from"./eRdaqCIX.js";import P from"./BPgzHjqn.js";import j from"./CBsgH6ZA.js";import B from"./y-gmliu_.js";import"./CLs7nh7g.js";import"./C9GFA1F9.js";import"./WTJyoiTa.js";import"./CDobArzr.js";import"./BatKcLUJ.js";import"./vBD9hNz0.js";import"./DopbZb4I.js";import"./DQH--uwI.js";import"./9FyqW5mf.js";import"./DYfmXiZc.js";import"./Crrqz8Yh.js";import"./Cv54xNkG.js";import"./CnCvbsyp.js";import"./Dv7qMWOV.js";import"./DXyqihM7.js";import"./ZhWAdK_X.js";import"./CFsWh2Qc.js";import"./DvUUWUZY.js";import"./DpfkshbA.js";import"./Cx463ZbG.js";import"./jc0MLXVe.js";import"./DIMx0j32.js";import"./DycJ7zTc.js";import"./C_pBglvY.js";const z=x("/green-orange-logo.svg"),O="$s";function u(...s){const t=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(t);const[o,c]=s;if(!o||typeof o!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+o);if(c!==void 0&&typeof c!="function")throw new Error("[nuxt] [useState] init must be a function: "+c);const m=O+o,l=D(),i=N(l.payload.state,m);if(i.value===void 0&&c){const d=c();if(L(d))return l.payload.state[m]=d,d;i.value=d}return i}const H={class:"grid m-0 h-screen bg-white text-gray-700 select-none"},R={class:"col-12 md:col-7 flex align-items-center justify-content-center capitalize"},U={class:"w-8 lg:w-4"},K={class:"flex flex-column align-items-center"},F={class:"py-4"},I={class:"py-2"},M={class:"py-2"},G={key:0,"aria-label":"Please select your class or group or grade from the list",class:"sr-only text-xs",for:"grade-select"},J={class:""},Q=_({name:"Login",data(){return{url:"http://64.23.241.11/home/",school:null,grade:null,schools:[{name:"school 1 primary",id:1,details:"",date:new Date().getTime()},{name:"school 2 primary",id:2,details:"",date:new Date().getTime()},{name:"school 3 primary",id:3,details:"",date:new Date().getTime()}],classes:[{id:1,name:"grade 1",school:1,details:"",date:new Date().getTime()},{id:2,name:"grade 2",school:1,details:"",date:new Date().getTime()},{id:3,name:"grade 3",school:1,details:"",date:new Date().getTime()},{id:4,name:"grade 4",school:2,details:"",date:new Date().getTime()},{id:5,name:"grade 5",school:2,details:"",date:new Date().getTime()},{id:6,name:"grade 6",school:2,details:"",date:new Date().getTime()},{id:7,name:"grade 7",school:3,details:"",date:new Date().getTime()},{id:8,name:"grade 8",school:3,details:"",date:new Date().getTime()},{id:9,name:"pp2",school:3,details:"",date:new Date().getTime()}],menu:[]}},methods:{login(){u("ui").value="learn",u("session").value.school=this.school,u("session").value.grade=this.grade}}}),W=Object.assign(Q,{setup(s){return u("session",()=>({school:null,grade:null})),(t,o)=>{const c=$,m=E;return n(),a("div",H,[o[6]||(o[6]=e("div",{"aria-label":"Educational learning environment",class:"hidden md:col-5 md:flex flex-column justify-content-end",role:"img",style:{"background-image":"url('/login-image-2.jpg')","background-size":"cover"}},[e("div",{class:"lg:h-3rem pl-4 flex align-items-start"},[e("h1",{class:"text-white font-bold uppercase text-4xl m-0"}," Let's Learn! ")]),e("footer",{class:"h-4rem pl-4 text-xs text-gray-300"},[e("div",{"aria-level":"2",class:"font-bold",role:"heading"}," AHAINNOVATE Limited. "),e("div",null," (Access Hub Africa) "),e("div",{class:""}," www.accesshub-africa.com ")])],-1)),e("div",R,[e("div",U,[o[4]||(o[4]=e("div",{class:"h-4rem lg:h-6rem flex align-items-center justify-content-center"},[e("img",{alt:"Access Hub Africa logo",class:"h-2rem lg:h-3rem",role:"img",src:z})],-1)),e("div",K,[r(c,{class:S(`${t.school&&t.grade?"border-none bg-green-600 text-white":"border-gray-700 text-gray-700"} shadow-1`),outlined:!(t.school&&t.grade),"aria-label":"Secure login Status",icon:"pi pi-lock",rounded:""},null,8,["class","outlined"]),o[2]||(o[2]=e("span",{class:"sr-only py-2"},"User login",-1))]),e("div",F,[e("div",I,[o[3]||(o[3]=e("label",{"aria-label":"Please select your school from the list",class:"text-xs",for:"school-select"}," Please select your school ",-1)),r(m,{id:"school-select",modelValue:t.school,"onUpdate:modelValue":o[0]||(o[0]=l=>t.school=l),options:t.schools,"aria-describedby":"school-instruction","aria-required":"true",class:"fadein animation-duration-500",filter:"",fluid:"","option-label":"name",placeholder:"Select school"},null,8,["modelValue","options"])]),e("div",M,[t.school?(n(),a("label",G," Please select your class / group / grade ")):y("",!0),t.school?(n(),v(m,{key:1,id:"grade-select",modelValue:t.grade,"onUpdate:modelValue":o[1]||(o[1]=l=>t.grade=l),options:t.classes.filter(l=>Number(l.school)===Number(t.school.id)),"aria-describedby":"grade-instruction","aria-required":"true",class:"fadein animation-duration-500",filter:"",fluid:"","option-label":"name",placeholder:"Select class"},null,8,["modelValue","options"])):y("",!0)])]),e("div",null,[r(c,{disabled:!t.school||!t.grade,class:"w-full fadein animation-duration-1000",icon:"pi pi-user",label:"Login",raised:"",rounded:"",severity:"primary",onClick:t.login},null,8,["disabled","onClick"])]),o[5]||(o[5]=e("div",{class:"h-5rem md:hidden text-center pt-6 text-xs text-gray-600"},[e("div",null,"AHAINNOVATE Limited."),e("div",null,"(Access Hub Africa)")],-1))]),e("div",J,[(n(!0),a(h,null,k(t.menu,l=>(n(),a("div",null,f(l.replace("en-","")),1))),256))])])])}}}),X=_({name:"kids-card",props:["title_","rating_","progress_","thumbnail_"]}),Y={class:"border-1 border-gray-200 flex align-items-center hover:border-gray-100 border-round-2xl overflow-hidden shadow-1 hover:shadow-6 hover:border-700"},Z={class:"h-9rem w-10 md:w-10 py-3 pl-2 bg-orange-600 hover:bg-orange-900 slash-1 shadow-8 flex align-items-end"},ee={class:"pl-3 font-bold lg:text-xl uppercase"},te={class:"w-9 pb-3"},se={class:"flex fadein animation-duration-500"},oe={class:"w-2"},ie=["alt","src"];function ne(s,t,o,c,m,l){const i=T,d=A;return n(),a("div",Y,[e("div",Z,[e("div",ee,[e("div",te,f(s.title_),1),e("div",se,[r(i,{"model-value":s.rating_,stars:5,class:"text-yellow-500 flex gap-1",readonly:"",unstyled:""},null,8,["model-value"])]),r(d,{value:s.progress_||0,class:"h-1rem w-12rem shadow-1 fadein animation-duration-1000"},null,8,["value"])])]),e("div",oe,[e("img",{alt:s.title_,src:s.thumbnail_,class:"w-4rem"},null,8,ie)])])}const re=C(X,[["render",ne]]),le=_({name:"Subjects",data(){return{base_url:"http://64.23.241.11",entry:null,entries:[],start:0,end:9,prev:null,next:1,is_loading:!1}},methods:{getPreviousEntries(){this.start!==0&&(this.start=this.start-9,this.getEntries("prev"))},getNextEntries(){this.start=this.start+9,this.getEntries("next")},async getEntries(s){try{this.is_loading=!0;const t=await $fetch(`${this.base_url}/kiwix/catalog/v2/entries?start=${this.start}&count=${this.end}`);if(t.size<1e3){this.is_loading=!1,s==="next"&&(this.next=!1),this.notify("Done.","No more entries.","success");return}else this.next=!0;const o=await t.text(),l=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("entry");this.entries=Array.from(l).map(i=>({id:i.querySelector("id")?.textContent,title:i.querySelector("title")?.textContent,summary:i.querySelector("summary")?.textContent,language:i.querySelector("language")?.textContent,tags:i.querySelector("tags")?.textContent,updated:i.querySelector("updated")?.textContent,articleCount:i.querySelector("articleCount")?.textContent,mediaCount:i.querySelector("mediaCount")?.textContent,author:i.querySelector("author")?.textContent,publisher:i.querySelector("publisher")?.textContent,rating:3,progress:40,links:Array.from(i.querySelectorAll("link")).map(d=>({href:d.getAttribute("href"),rel:d.getAttribute("rel"),type:d.getAttribute("type")}))})),this.is_loading=!1}catch{this.is_loading=!1,this.notify("Loading Error","Sorry, unable to load topics.","warn")}},notify(s,t,o){this.$toast.add({severity:o||"info",summary:s||"Update",detail:t||"Successful",life:2e3})},viewEntry(s){this.entry=s,this.is_loading=!0,setTimeout(()=>{this.is_loading=!1},4e3)}},async mounted(){this.getEntries()}}),ae={class:"grid m-0 p-3 lg:p-4 bg-white text-gray-700"},de={key:0,class:"col-12 fadein animation-duration-1000"},ce={class:"h-3rem border-1 border-gray-200 flex align-items-center justify-content-between bg-orange-600 text-white"},me={class:"w-2 lg:w-1 p-1 pl-2 h-full bg-white"},ue=["src"],ge={class:"w-full pl-3 font-bold"},pe={class:"h-4rem pl-3 font-bold border-1 border-gray-300 flex align-items-center"},he={class:"p-0 font-bold shadow-1 border-left-1 border-right-1 border-bottom-1 border-gray-300"},fe={key:0,class:"text-center fadein animation-duration-1000"},_e=["src"],be={key:0,class:"col-12 text-center fadein animation-duration-2000"},ye={class:"col-12 flex justify-content-end"},ve=["onClick"];function we(s,t,o,c,m,l){const i=$,d=q,b=re;return n(),a("div",ae,[s.entry?(n(),a("div",de,[e("div",ce,[e("div",me,[e("img",{src:`${s.base_url}${s.entry.links[0].href}`,class:"h-full"},null,8,ue)]),e("div",ge,f(s.entry.title),1),r(i,{class:"h-full w-6rem lg:w-4rem border-noround bg-orange-800 border-none",icon:"pi pi-times",onClick:t[0]||(t[0]=g=>s.entry=null)})]),e("div",pe,f(s.entry.summary),1),e("div",he,[s.is_loading?(n(),a("div",fe,[r(d)])):(n(),a("iframe",{key:1,id:"remoteFrame",src:`${s.base_url}${s.entry.links[1].href}`,class:"w-full h-30rem lg:h-24rem border-none fadein animation-duration-1000"},null,8,_e))])])):(n(),a(h,{key:1},[s.is_loading?(n(),a("div",be,[r(d)])):(n(),a(h,{key:1},[e("div",ye,[r(i,{class:"h-2rem w-3rem border-noround shadow-1 bg-orange-700 border-none",disabled:!s.start,icon:"pi pi-caret-left",onClick:s.getPreviousEntries},null,8,["disabled","onClick"]),r(i,{class:"h-2rem w-3rem border-noround shadow-1 bg-orange-700 border-none",disabled:!s.next,icon:"pi pi-caret-right",onClick:s.getNextEntries},null,8,["disabled","onClick"])]),(n(!0),a(h,null,k(s.entries,(g,w)=>(n(),a("div",{class:S(`col-12 md:col-6 lg:col-4 bg-white flipleft animation-duration-${w*200} animation-ease-in select-none cursor-pointer text-white`),onClick:Ee=>s.viewEntry(g)},[r(b,{title_:g.title,rating_:g.rating||0,progress_:g.progress||0,thumbnail_:`${s.base_url}${g.links[0].href}`},null,8,["title_","rating_","progress_","thumbnail_"])],10,ve))),256))],64))],64))])}const $e=C(le,[["render",we]]),xe=x("/colored-text-logo.svg"),Se={key:0,class:"h-3rem md:h-4rem lg:h-3rem flex align-items-center justify-content-between bg-green-800 text-white text-xs uppercase select-none"},ke={class:"w-12rem md:w-7rem md:w-16rem h-full flex lg:w-15rem align-items-center gap-2 capitalize"},Ce={class:"flex align-items-center gap-2"},Ae={class:"h-full w-17rem px-4 hidden md:flex gap-2 align-items-center"},Te=_({name:"index"}),dt=Object.assign(Te,{setup(s){return u("ui",()=>"login"),u("session",()=>{}),(t,o)=>{const c=B,m=j,l=T,i=A,d=W,b=$e,g=P;return n(),a(h,null,[("useState"in t?t.useState:p(u))("ui").value!=="login"?(n(),a("nav",Se,[o[2]||(o[2]=e("div",{class:"w-4rem md:w-7rem lg:w-9rem h-full pl-3 md:pl-3 lg:pl-5 slash bg-green-900 flex align-items-center shadow-4"},[e("img",{alt:"AHAINNOVATE LOGO",class:"w-2rem md:w-4rem",src:xe})],-1)),e("div",ke,[r(c,{class:"hidden md:flex bg-white shadow-2 border-1 border-green-600",icon:"pi pi-user",rounded:"",shape:"circle",size:"small"}),e("div",Ce,[e("div",null,[r(m,{value:("useState"in t?t.useState:p(u))("session").value.school.name,severity:"primary",size:"small"},null,8,["value"])]),e("div",null,[r(m,{value:("useState"in t?t.useState:p(u))("session").value.grade.name,severity:"warn",size:"small"},null,8,["value"])])])]),e("div",Ae,[r(l,{"model-value":3,stars:5,class:"text-yellow-500 flex gap-1",readonly:"",unstyled:""}),r(i,{value:50,class:"h-1rem w-6rem"})]),e("div",{class:"w-3rem md:w-4rem lg:w-8rem h-full bg-green-900 flex align-items-center justify-content-center gap-2 hover:shadow-4 text-red-500",onClick:o[0]||(o[0]=w=>("useState"in t?t.useState:p(u))("ui").value="login")},[...o[1]||(o[1]=[e("i",{class:"pi pi-power-off text-xs"},null,-1),V(),e("span",{class:"hidden lg:flex"},"Logout",-1)])])])):y("",!0),("useState"in t?t.useState:p(u))("ui").value==="login"?(n(),v(d,{key:1})):(n(),v(b,{key:2})),r(g)],64)}}});export{dt as default};
